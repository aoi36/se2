<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Orders</title>
  <style>
    table {
        border-collapse: collapse;
        width: 100%;
    }
    th, td {
        padding: 8px;
        border: 1px solid #ccc;
        text-align: left;
    }
    th {
        background-color: #eee;
    }
    .pagination {
        list-style: none;
        padding: 0;
        display: flex;
    }
    .pagination li {
        margin-right: 5px;
    }
    .pagination li a {
        text-decoration: none;
        padding: 4px 8px;
        border: 1px solid #ccc;
        color: #333;
    }
  </style>
</head>
<body>
<h1>Orders</h1>

<!-- Orders Table -->
<table>
  <thead>
  <tr>
    <th>Order ID</th>
    <th>Administrator Name</th>
    <th>Order Date</th>
    <th>Status</th>
    <th>Total Price</th>
  </tr>
  </thead>
  <tbody>
  <tr th:each="orderInformation : ${orderPage.content}">
    <td th:text="${orderInformation.id}"></td>
    <td th:text="${orderInformation.administrator?.administratorName}">Admin Name</td>
    <td th:text="${#temporals.format(orderInformation.orderDate, 'yyyy-MM-dd HH:mm')}"></td>
    <td th:text="${orderInformation.status}"></td>
    <td th:text="${orderInformation.totalPrice}"></td>
  </tr>
  </tbody>
</table>

<!-- Pagination Navigation -->
<div>
  <ul class="pagination">
    <li th:if="${orderPage.hasPrevious()}">
      <a th:href="@{/order/list(page=${orderPage.number - 1}, size=${orderPage.size})}">Previous</a>
    </li>
    <li th:if="${orderPage.hasNext()}">
      <a th:href="@{/order/list(page=${orderPage.number + 1}, size=${orderPage.size})}">Next</a>
    </li>
  </ul>
</div>

<form id="pageSizeForm" th:action="@{/order/list}" method="get">
  <input type="hidden" name="page" th:value="${orderPage.number}" />
  <label for="pageSize">Items per page:</label>
  <select id="pageSize" name="size" onchange="changePageSize()">
    <option th:value="5" th:selected="${orderPage.size == 5}">5</option>
    <option th:value="10" th:selected="${orderPage.size == 10}">10</option>
    <option th:value="20" th:selected="${orderPage.size == 20}">20</option>
  </select>
</form>

<script>
  function changePageSize() {
    document.getElementById('pageSizeForm').submit();
  }
</script>
</body>
</html>
